# Raspberry Pi 

### Tensorflow Lite
 - Tensorflow Lite는 기기 내 추론을 위한 딥러닝 프레임워크로 모델을 가져오고, 변환하여, 해석합니다.
 - Tensorflow Lite는 **해석기(interpreter)**와 **변환기(converter)**를 가지고있습니다.
 - 해석기는 모델을 이용하여 추론하는 것을 담당합니다.
 - 변환기는 기존의 Tensorflow 모델을 가져와서 Tensorflow Lite용 모델(.tflite)로 변환합니다.
 - TPU는 Tensor Processor Unit으로 Tensor 계산에 최적화된 연산장치입니다.
 
 1. Use the TensorFlow Lite Python API
 2. Use the C/C++ TensorFlow Lite APIs
 
 ### TensorFlow Lite에서 제공되는 모델은 총 5가지 
 - Image classification
 - Object detection
 - Smart reply
 - Pose estimation
 - Segmentation
 
# 개발 환경 조사 
1. 라즈비안 OS설치 : 개발 PC에서 개발하고 최종 빌드 결과만 손쉽게 라즈베리파이에 적용
 - 다운로드 링크 : https://www.raspberrypi.org/downloads/raspbian/
 - 라즈비안 제시 vs 라지브이나 제시 lite ( 콘솔로만 로그인할수있고 불필요한 데스크탑 환경과 어플리케이션은 들어있지 않다.)
 - 윈도우즈 경우 USB - to - TTL 장치 드라이버 설치 
 - PUTTY 시리얼 통신 프로그램 으로 접속 시도 
 - Serial Line 과 Speed 설정 하고 연결타입(Connection Type) 을 Serial 로 체크 
 - 터미널상에서 Vi나 nano를 사용해 파이썬 파일을 작성할수 있지만 불편 
2. 파이썬 + Eclipse로 라즈베리파이 개발
 - JDK , Eclipse 설치 (IDE for java EE Developers)
 - PyDev 설치 : Eclipse > Help > Eclipse Marketplace 에서 “python”으로 검색해서 나오는 “PyDev”를 설치하면 됩니다.
 - RemoteSystem 설정
 - Eclipse  > Window > Perspective > Open Perspective > Other 메뉴로 이동
 - Remote System 영역에서 “New Connection” SSH Only를 선택하고 Host Name에 라즈베리파이의 IP 주소를 입력
3. 라즈베리파이 전용 모니터 없이 원격에서 화면 보기
 - 때에 따라서 라즈베리파이 데스크탑환경, 즉 GUI를 출력하는 프로젝트를 해야할 때 사용한다. 
 - VNC 를 이용해서 라즈베리파이의 데스크탑 환경을 원격의 개발 PC에서 보고 조작할 떄 쓰는 방법은 2가지
	+ 새롭게 접속할 때 마다 새로운 데스크탑을 띄우는 방식
	+ 기존에 띄워둔 데스크탑을 그대로 공유해서 개발 PC에 띄우는 방식 여러개발자가 하나의 화면을 공유하는데 응용할 수 있다.
 - 개발 PC에는 VNC 클라이언트 프로그램을 설치 
 - 라즈베리파이에는 VNC 서버 설치 
4. 라즈베리 파이에 필요한 소프트웨어 설치
 1. Edge TPU Runtime : 장치를 인식하고 동작하게 하는데 필요한 소프트웨어 
 2. Tensorflow Lite API
 3. Edge TPU API 
  - tensorflow lite를 이용하는 방법으로 C++언어와 Python 언어를 선택할수 있는데 이때 동작장치를
	Edge TPU로 지정하도록 코드를 반드시 수정해야함
  - 텐서플로우 라이트를 직접 사용하지 않아도 추상화 시켜놓은 것이 **Edge TPU Python API**
 
# TF Lite로 모델 실행해 보기 
```python 
mkdir coral && cd coral
git clone https://github.com/google-coral/tflite.git
```
 - 모델 파일과 label등도 예제로 미리 만들어져있음 해당 디렉토리 가서 명령어만 실행하면됨
```python
cd tflite/python/examples/classification
bash install_requirements.sh
```

# Edge TPU API 설치 : TF Lite를 쉽게 쓸 수 있도록 도와주는
```
apt install python3-edgetpu
```
- OpenCV 설치 후 종속라이브러리 설치 
```
sudo pip3 install opencv-contrib-python==4.1.0.25
sudo apt install -y  libqt4-test libhdf5-dev libatlas-base-dev libjasper-dev  libqtgui4
```

# 객체 인식 프로그램 작성 
 1. edge TPU API 로 프로그램 작성 요약
 
 