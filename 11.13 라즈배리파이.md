# ğŸ“• Raspberry Pi 

### Tensorflow Lite
 - Tensorflow LiteëŠ” ê¸°ê¸° ë‚´ ì¶”ë¡ ì„ ìœ„í•œ ë”¥ëŸ¬ë‹ í”„ë ˆì„ì›Œí¬ë¡œ ëª¨ë¸ì„ ê°€ì ¸ì˜¤ê³ , ë³€í™˜í•˜ì—¬, í•´ì„í•©ë‹ˆë‹¤.
 - Tensorflow LiteëŠ” <span style="color:red">**í•´ì„ê¸°(interpreter)**ì™€ **ë³€í™˜ê¸°(converter)**</span>ë¥¼ ê°€ì§€ê³ ìˆìŠµë‹ˆë‹¤.
 - í•´ì„ê¸°ëŠ” ëª¨ë¸ì„ ì´ìš©í•˜ì—¬ ì¶”ë¡ í•˜ëŠ” ê²ƒì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
 - ë³€í™˜ê¸°ëŠ” ê¸°ì¡´ì˜ Tensorflow ëª¨ë¸ì„ ê°€ì ¸ì™€ì„œ Tensorflow Liteìš© ëª¨ë¸(.tflite)ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
 - TPUëŠ” Tensor Processor Unitìœ¼ë¡œ Tensor ê³„ì‚°ì— ìµœì í™”ëœ ì—°ì‚°ì¥ì¹˜ì…ë‹ˆë‹¤.
 
 1. Use the TensorFlow Lite Python API
 2. Use the C/C++ TensorFlow Lite APIs
 
 ### TensorFlow Liteì—ì„œ ì œê³µë˜ëŠ” ëª¨ë¸ì€ ì´ 5ê°€ì§€ 
 - Image classification
 - Object detection
 - Smart reply
 - Pose estimation
 - Segmentation
 
# ê°œë°œ í™˜ê²½ ì¡°ì‚¬ 
1. ë¼ì¦ˆë¹„ì•ˆ OSì„¤ì¹˜ : ê°œë°œ PCì—ì„œ ê°œë°œí•˜ê³  ìµœì¢… ë¹Œë“œ ê²°ê³¼ë§Œ ì†ì‰½ê²Œ ë¼ì¦ˆë² ë¦¬íŒŒì´ì— ì ìš©
 - ë‹¤ìš´ë¡œë“œ ë§í¬ : https://www.raspberrypi.org/downloads/raspbian/
 - ë¼ì¦ˆë¹„ì•ˆ ì œì‹œ vs ë¼ì§€ë¸Œì´ë‚˜ ì œì‹œ lite ( ì½˜ì†”ë¡œë§Œ ë¡œê·¸ì¸í• ìˆ˜ìˆê³  ë¶ˆí•„ìš”í•œ ë°ìŠ¤í¬íƒ‘ í™˜ê²½ê³¼ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ ë“¤ì–´ìˆì§€ ì•Šë‹¤.)
 - ìœˆë„ìš°ì¦ˆ ê²½ìš° USB - to - TTL ì¥ì¹˜ ë“œë¼ì´ë²„ ì„¤ì¹˜ 
 - PUTTY ì‹œë¦¬ì–¼ í†µì‹  í”„ë¡œê·¸ë¨ ìœ¼ë¡œ ì ‘ì† ì‹œë„ 
 - Serial Line ê³¼ Speed ì„¤ì • í•˜ê³  ì—°ê²°íƒ€ì…(Connection Type) ì„ Serial ë¡œ ì²´í¬ 
 - í„°ë¯¸ë„ìƒì—ì„œ Vië‚˜ nanoë¥¼ ì‚¬ìš©í•´ íŒŒì´ì¬ íŒŒì¼ì„ ì‘ì„±í• ìˆ˜ ìˆì§€ë§Œ ë¶ˆí¸ 
2. íŒŒì´ì¬ + Eclipseë¡œ ë¼ì¦ˆë² ë¦¬íŒŒì´ ê°œë°œ
 - JDK , Eclipse ì„¤ì¹˜ (IDE for java EE Developers)
 - PyDev ì„¤ì¹˜ : Eclipse > Help > Eclipse Marketplace ì—ì„œ â€œpythonâ€ìœ¼ë¡œ ê²€ìƒ‰í•´ì„œ ë‚˜ì˜¤ëŠ” â€œPyDevâ€ë¥¼ ì„¤ì¹˜í•˜ë©´ ë©ë‹ˆë‹¤.
 - RemoteSystem ì„¤ì •
 - Eclipse  > Window > Perspective > Open Perspective > Other ë©”ë‰´ë¡œ ì´ë™
 - Remote System ì˜ì—­ì—ì„œ â€œNew Connectionâ€ SSH Onlyë¥¼ ì„ íƒí•˜ê³  Host Nameì— ë¼ì¦ˆë² ë¦¬íŒŒì´ì˜ IP ì£¼ì†Œë¥¼ ì…ë ¥
3. ë¼ì¦ˆë² ë¦¬íŒŒì´ ì „ìš© ëª¨ë‹ˆí„° ì—†ì´ ì›ê²©ì—ì„œ í™”ë©´ ë³´ê¸°
 - ë•Œì— ë”°ë¼ì„œ ë¼ì¦ˆë² ë¦¬íŒŒì´ ë°ìŠ¤í¬íƒ‘í™˜ê²½, ì¦‰ GUIë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ í•´ì•¼í•  ë•Œ ì‚¬ìš©í•œë‹¤. 
 - VNC ë¥¼ ì´ìš©í•´ì„œ ë¼ì¦ˆë² ë¦¬íŒŒì´ì˜ ë°ìŠ¤í¬íƒ‘ í™˜ê²½ì„ ì›ê²©ì˜ ê°œë°œ PCì—ì„œ ë³´ê³  ì¡°ì‘í•  ë–„ ì“°ëŠ” ë°©ë²•ì€ 2ê°€ì§€
	+ ìƒˆë¡­ê²Œ ì ‘ì†í•  ë•Œ ë§ˆë‹¤ ìƒˆë¡œìš´ ë°ìŠ¤í¬íƒ‘ì„ ë„ìš°ëŠ” ë°©ì‹
	+ ê¸°ì¡´ì— ë„ì›Œë‘” ë°ìŠ¤í¬íƒ‘ì„ ê·¸ëŒ€ë¡œ ê³µìœ í•´ì„œ ê°œë°œ PCì— ë„ìš°ëŠ” ë°©ì‹ ì—¬ëŸ¬ê°œë°œìê°€ í•˜ë‚˜ì˜ í™”ë©´ì„ ê³µìœ í•˜ëŠ”ë° ì‘ìš©í•  ìˆ˜ ìˆë‹¤.
 - ê°œë°œ PCì—ëŠ” VNC í´ë¼ì´ì–¸íŠ¸ í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜ 
 - ë¼ì¦ˆë² ë¦¬íŒŒì´ì—ëŠ” VNC ì„œë²„ ì„¤ì¹˜ 
4. ë¼ì¦ˆë² ë¦¬ íŒŒì´ì— í•„ìš”í•œ ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ì¹˜
 1. Edge TPU Runtime : ì¥ì¹˜ë¥¼ ì¸ì‹í•˜ê³  ë™ì‘í•˜ê²Œ í•˜ëŠ”ë° í•„ìš”í•œ ì†Œí”„íŠ¸ì›¨ì–´ 
 2. Tensorflow Lite API
 3. Edge TPU API 
  - tensorflow liteë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ C++ì–¸ì–´ì™€ Python ì–¸ì–´ë¥¼ ì„ íƒí• ìˆ˜ ìˆëŠ”ë° ì´ë•Œ ë™ì‘ì¥ì¹˜ë¥¼
	Edge TPUë¡œ ì§€ì •í•˜ë„ë¡ ì½”ë“œë¥¼ ë°˜ë“œì‹œ ìˆ˜ì •í•´ì•¼í•¨
  - í…ì„œí”Œë¡œìš° ë¼ì´íŠ¸ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì¶”ìƒí™” ì‹œì¼œë†“ì€ ê²ƒì´ **Edge TPU Python API**
 
# TF Liteë¡œ ëª¨ë¸ ì‹¤í–‰í•´ ë³´ê¸° 
```python 
mkdir coral && cd coral
git clone https://github.com/google-coral/tflite.git
```
 - ëª¨ë¸ íŒŒì¼ê³¼ labelë“±ë„ ì˜ˆì œë¡œ ë¯¸ë¦¬ ë§Œë“¤ì–´ì ¸ìˆìŒ í•´ë‹¹ ë””ë ‰í† ë¦¬ ê°€ì„œ ëª…ë ¹ì–´ë§Œ ì‹¤í–‰í•˜ë©´ë¨
```python
cd tflite/python/examples/classification
bash install_requirements.sh
```

# Edge TPU API ì„¤ì¹˜ : TF Liteë¥¼ ì‰½ê²Œ ì“¸ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ”
```
apt install python3-edgetpu
```
- OpenCV ì„¤ì¹˜ í›„ ì¢…ì†ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ 
```
sudo pip3 install opencv-contrib-python==4.1.0.25
sudo apt install -y  libqt4-test libhdf5-dev libatlas-base-dev libjasper-dev  libqtgui4
```


# ğŸ’¾ ìƒ˜í”Œ ê°ì²´ ì¸ì‹ í”„ë¡œê·¸ë¨ ì‘ì„±  "coral_object_detect.py"
 1. edge TPU API ë¡œ í”„ë¡œê·¸ë¨ ì‘ì„± ìš”ì•½
```Python
from edgetpu.detection.engine import DetectionEngine
# ëª¨ë¸ íŒŒì¼ ê²½ë¡œë¥¼ ì§€ì •í•´ì„œ ê°ì²´ë¥¼ ìƒì„±
engine = DetectionEngine(model)
#ì´ë¯¸ì§€ ì „ë‹¬ í•˜ê³  í›„ë³´ë“¤ì„ ë°˜í™˜. ì´ë¯¸ì§€ëŠ” PIL.Imageí˜•íƒœë§Œ ì§€ì›
candidates = engine.detect_with_image(img)
# í›„ë³´ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ ê°ì²´ì˜ idì™€ ì¢Œí‘œë¥¼ ì–»ëŠ”ë‹¤.
for obj in candidates:
    obj.label_id
    obj.bounding_box
    obj.score
```
 2. ì‹¤í–‰ì„ ìœ„í•œ ëª¨ë¸íŒŒì¼ê³¼ ê° ê°ì²´ì— ëŒ€í•œ idì™€ ì´ë¦„ì„ ê°–ëŠ” labelíŒŒì¼ ë‹¤ìš´ë¡œë“œ
  - mobile Net SSDë¥¼ Cocoë°ì´íƒ€ì…‹ìœ¼ë¡œ í›ˆë ¨í•œ ëª¨ë¸ ì‚¬ìš© 
```
wget https://github.com/google-coral/edgetpu/raw/master/test_data/mobilenet_ssd_v2_coco_quant_postprocess_edgetpu.tflite
wget https://dl.google.com/coral/canned_models/coco_labels.txt
```
----
# ë¼ì¦ˆë² ë¦¬íŒŒì´ ëª¨ë¸ ì†Œê°œ
 ğŸ© ë¹„êµí‘œ
|ëª¨ë¸|	**ë¼ì¦ˆë² ë¦¬íŒŒì´ 4 B**	|ë¼ì¦ˆë² ë¦¬íŒŒì´ 3 B+	|ë¼ì¦ˆë² ë¦¬íŒŒì´ ZERO Wireless|
|:----------|:-------|:----------|:----------|
|ì¶œì‹œì¼|	**2019ë…„ 6ì›”**|	2018ë…„ 3ì›”	|2017ë…„ 2ì›”|
|ê°€ê²©|	**$35/$45/$55 (ë¨ ì„ íƒì‚¬í•­)**|	$35|	$10|
|ì•„í‚¤í…ì³|**	ARM Cortex-A72 (64-bit)**|	ARMv8-A (64-bit)|	ARMv6Z (32-bit)|
|SoC|**	BCM2711**	|BCM2837B0	|BCM2835|
|CPU|	**1.5 GHz** |64-bit quad-core ARM Cortex-A72|	1.4 GHz 64-bit quad-core ARM Cortex-A53	|1 GHz single-core ARM1176JZF-S|
|ë©”ëª¨ë¦¬|	**1/2/4 GB **(shared with GPU)	|1 GB (shared with GPU)	|512 MB (shared with GPU)|
|USB|	**USB3.0(2ê°œ), USB2.0(2ê°œ)**|	USB2.0(4ê°œ)	|1 ê°œ Micro-USB(2.0)|
|í¬ê¸°	|**88â€‰mm Ã— 58â€‰mm Ã— 19.5â€‰mm**|	85.60 mm Ã— 56.5 mm Ã— 17 mm|	65 mm Ã— 30 mm Ã— 5 mm|
|ë¬´ê²Œ|	**46 g**	|45 g	|9.3 g|

### Raspbian ë¼ì¦ˆë¹„ì•ˆ ì„¤ì¹˜í•˜ê¸° ì´ 3ê°€ì§€ë¡œ osì œê³µ
 - Raspbian Buster with desktop and recommended software : GUI ë²„ì „. ì¶”ê°€ SW í¬í•¨. ì•½ 2.5 GB
 - Raspbian Buster with desktop : GUI ë²„ì „. ê¸°ë³¸ SW íƒ‘ì¬. ì•½ 1.1 GB
 - Raspbian Buster lite : DESKTOP GUI ì—†ëŠ” ë²„ì „. ì•½ 435 MB
 
### WIFI ì ‘ì†ê³¼ SSH ì—°ê²° ì„¤ì •í•˜ê¸° 
 - ë¼ì¦ˆë¹„ì•ˆì˜ SSH ê¸°ë³¸ ì„¤ì • ìƒíƒœëŠ” disableì´ë¼ì„œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤. 
 ğŸ‘‰ SSH enable ì„¤ì • íŒŒì¼ ì¤€ë¹„ 
  - íŒŒì¼ëª…ì´ sshì¸ íŒŒì¼ì„ ë§Œë“¤ì–´ bootë“œë¼ì´ë¸Œ ìµœìƒìœ„ í´ë”ì— ìœ„ì¹˜í•©ë‹ˆë‹¤. 
  - í™•ì¥ìê°€ ì—†ì–´ì•¼í•˜ë©° íŒŒì¼ë‚´ìš©ì€ ì—†ì–´ë„ ë©ë‹ˆë‹¤. 
  - ë¼ì¦ˆë¹„ì•ˆì´ ë¶€íŒ…ì‹œ, boot íŒŒí‹°ì…˜ì— sshíŒŒì¼ì´ ì¡´ì¬í•˜ë©´ ì´ë¥¼ ì¸ì‹í•˜ê³  ssh enableì„ ì„¤ì •í•©ë‹ˆë‹¤.
 ğŸ‘‰ WIFI ì ‘ì† ì„¤ì • íŒŒì¼ wpa_supplicant.conf
```
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
    ssid="ì ‘ì†í•  WIFI ì´ë¦„"
    psk="ì ‘ì†í•  WIFI ì•”í˜¸"
}
```
## ë¶€íŒ… í›„ SSH ì ‘ì†í•˜ê¸° 
 ğŸ‘‰ SD cardë¥¼ í•´ì œí•˜ê³  ë¼ì¦ˆë² ë¦¬ íŒŒì´ì— ì‚½ì…í•˜ê³  ì „ì› ì—°ê²° 
  - ë¶€íŒ…í›„ ê³µìœ ê¸° ê´€ë¦¬í˜ì´ì§€ì— ì ‘ì†(ë³´í†µ 192.168.0.1) í•´ë‹¹ **ë¼ì¦ˆë² ë¦¬íŒŒì´ IP**ë¥¼ ì•Œì•„ëƒ…ë‹ˆë‹¤.
 
 1. ì›ê²©ì ‘ì† ë°©ë²• 
  - SSH : ë³´í†µ í„°ë¯¸ë„ ì ‘ì†ìœ¼ë¡œ ë¶ˆë¦¼. ì›ê²© ì»´í“¨í„°ì— ì•ˆì „í•˜ê²Œ ì ‘ì†í•˜ê¸° ìœ„í•œ ìœ ë‹‰ìŠ¤ ê¸°ë°˜ì˜ ëª…ë ¹ ì¸í„°í˜ì´ìŠ¤ ë° í”„ë¡œí† ì½œ.
  - VNC : GUI í™”ë©´ì„ ì›ê²©ìœ¼ë¡œ ì ‘ì†. RFB í”„ë¡œí† ì½œì„ ì´ìš©í•˜ì—¬ ì›ê²©ìœ¼ë¡œ ë‹¤ë¥¸ ì»´í“¨í„°ë¥¼ ì œì–´í•˜ëŠ” ê·¸ë˜í”½ í…ŒìŠ¤í¬í†± ê³µìœ  ì‹œìŠ¤í…œ.
  ğŸ–± Preference->Raspverry Pi Configurationì„ ì„ íƒ
  ğŸ–± ì‹¤í–‰ í›„ Interfaces íƒ­ì„ í™•ì¸í•˜ë©´, SSHì™€ VNCë¥¼ Enable í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
  ğŸ–± ssh ì´ˆê¸° ì„¤ì • port ë²ˆí˜¸ê°€ 22ë²ˆì´ê³ , ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤. ê³„ì • ì•„ì´ë””ì™€ ì•”í˜¸ëŠ” ì´ˆê¸° ì„¤ì • ìƒíƒœë©´ pi / raspberry ì…ë‹ˆë‹¤. ì´ë¯¸ ë³€ê²½í•˜ì˜€ë‹¤ë©´ ë³€ê²½ëœ ê³„ì • ì •ë³´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
```
sudo apt update
sudo apt upgrade
sudo raspi-config		#ë¼ì¦ˆë² ë¦¬íŒŒì´ configuration ë©”ë‰´ë¥¼ shell ì ‘ì†ìœ¼ë¡œë„  ì‹¤í–‰ ê°€ëŠ¥  
```
 2. VNC ì›ê²© ì ‘ì†í•˜ê¸°
 ğŸ‘‰ https://www.realvnc.com/en/connect/download/viewer/ ê³µì‹ í™ˆí˜ì´ì§€ ë‹¤ìš´ë¡œë“œ
  âŒ vnc ì›ê²© ì ‘ì† í™”ë©´ ì¶œë ¥ì—ëŸ¬ Cannot currently show the dekstop
```
sudo raspi-config
```
 ğŸ–± 7 Advanced Options -> A5 Resolution -> DMT Mode 85 1280x720 60Hz 16:9
## ğŸ’ƒ ì‚¼ë°”(Samba)ë€?
 - ì‚¼ë°”ëŠ” ë¦¬ëˆ…ìŠ¤(UNIX-like)ì™€ ìœˆë„ìš°ê°„ì— íŒŒì¼ ë° í”„ë¦°í„°ë¥¼ ê³µìœ  í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.
 ğŸ‘‰ ìœˆë„ìš°ì—ì„œ ë¼ì¦ˆë² ë¦¬íŒŒì´ë¡œ ì‚¼ë°” ì—°ê²°í•˜ê¸°
```
sudo apt install samba samba-common-bin
sudo smbpasswd -a pi 	# ex )idë¡œ pië¥¼ ì‚¬ìš©
```
 ğŸ‘‰ idì— ëŒ€í•œ ì‚¼ë°” ì„¤ì •ì„ í•´ì•¼í•©ë‹ˆë‹¤. ì‚¼ë°” ì„¤ì • íŒŒì¼ì¸ smb.conf í¸ì§‘í•©ë‹ˆë‹¤.
```
sudo vi /etc/samba/smb.conf
```
 ğŸ‘‰ pi ê³„ì •ì— ëŒ€í•œ ì„¤ì •ì„ smb.conf íŒŒì¼ ë§¨ ì•„ë˜ ë¶€ë¶„ì— ì¶”ê°€í•©ë‹ˆë‹¤. piê°€ ì•„ë‹Œ ë³¸ì¸ idë¥¼ ì‚¬ìš©í–ˆë‹¤ë©´, pi ë¶€ë¶„ì„ ëª¨ë‘ ë³¸ì¸ idë¡œ ë³€ê²½í•˜ë©´ ë©ë‹ˆë‹¤.
```
[pi]
   comment = pi shared folder
   path = /home/pi
   valid users = pi
   browseable = yes
   guest ok = no
   read only = no
   create mask = 0777
```
 ğŸ‘‰ ì„¤ì • ì™„ë£Œ í›„ì—ëŠ” samba ì¬ì‹œì‘
```
sudo /etc/init.d/samba restart
```
 ğŸ‘‰ ìœˆë„ìš° íƒìƒ‰ê¸°ì—ì„œ \\192.168.0.10\pi ì™€ ê°™ì´ ì ‘ì†
  - ì£¼ì†Œ í˜•ì‹ : ï¿¦ï¿¦[ë¼ì¦ˆë² ë¦¬íŒŒì´ IP ì£¼ì†Œ]ï¿¦[ì‚¼ë°” ê³„ì • id]
 
